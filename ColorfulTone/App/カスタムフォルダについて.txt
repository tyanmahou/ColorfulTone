■■■■■■■■■■■■■
■カスタムフォルダとは
■■■■■■■■■■■■■

楽曲情報、譜面情報をもとに、より詳細な楽曲絞り込みを実現する機能です。

CustomFolderのフォルダ以下に "*.ctfolder" のファイル形式でデータを作成することで
選曲画面で絞り込みを使用できるようになります。

ファイルの中身は以下のような形式で記述します。

------------------------------------------------
> CustomFolder/example.ctfolder
------------------------------------------------
#TITLE, カスタムフォルダの例
#ORDER, 999

% 最小BPMが100以下 または 最大BPMが400以上 かつ
% レベル10以上 かつ
% 作曲者名に"ことぶき"を含む

(MINBPM <= 100 || MAXBPM >= 400) &&
LEVEL >= 10 &&
ARTIST in "ことぶき"
------------------------------------------------
=> 魔ぜッパ!! Colorful41 ちごねいる和居膳 などが絞り込まれる

■■■■■■■■■■■■■
■ヘッダー記述
■■■■■■■■■■■■■

■#TITLE, 絞り込み名
選曲画面で表示する絞り込み名です。

■#ORDER,ソート順(整数)
任意。指定がない場合は0になります
選曲画面で表示する際のソート順に使用されます。
同じソート順の場合は名前順になります。

■#EVAL, ALL または ANY
任意。指定がない場合はANYになります

ALL: 
楽曲が含むすべての譜面が条件式を満たすか

ANY: 
楽曲が含むいずれかの譜面が条件式を満たすか

■■■■■■■■■■■■■
■構文
■■■■■■■■■■■■■

基本構文は以下のような形で記述していくことになります。

------------------------------------------------
> 条件式
------------------------------------------------

[識別子] [比較演算] [値]

------------------------------------------------

これに加えて論理演算を使用することで複雑な条件の記述も可能です

■識別子一覧

・MINBPM
最小BPMに対して数値比較します。(小数点可)

例：最小BPMが120以上
------------------------------------------------
MINBPM >= 120
------------------------------------------------

・MAXBPM
最小BPMに対して数値比較します。(小数点可)

例：最大BPMが120以上
------------------------------------------------
MAXBPM >= 120
------------------------------------------------

・BPM
最大BPMまたは最小BPMに対して数値比較します。(小数点可)

例：最大BPMまたは最小BPMが120以上
------------------------------------------------
BPM >= 120
------------------------------------------------

これは以下と同様になります。
------------------------------------------------
MINBPM >= 120 || MAXBPM > 120
------------------------------------------------

・ARTIST
作曲者名に対して文字列比較します。

例：作曲者名に mahou の文字を含む
------------------------------------------------
ARTIST in "mahou"
------------------------------------------------

・AUTHORITY
出展名に対して文字列比較します。

例：出展名に KamuNi の文字を含む
------------------------------------------------
AUTHORITY in "KamuNi"
------------------------------------------------

・MUSICNAME
楽曲名に対して文字列比較します。

例：楽曲名に PoPP の文字を含む
------------------------------------------------
MUSICNAME in "PoPP"
------------------------------------------------

・GENRE
パッケージ名に対して文字列比較します。

例：2017 の文字を含むフォルダ内に入っている楽曲を絞り込む(2017Autumn, 2017Spring など)
------------------------------------------------
GENRE in "2017"
------------------------------------------------

・LEVEL
レベルに対して数値比較します。(整数)

例：10レベル以上
------------------------------------------------
LEVEL >= 10
------------------------------------------------

・LEVELNAME
レベル名に対して文字列比較します。

例：レベル名が Hard 
------------------------------------------------
LEVELNAME == "Hard"
------------------------------------------------

・STAR
★レベルに対して比較します。

★レベルは以下の順序になっています。
＊,＊＊,＊＊＊,☆,☆☆,☆☆☆,★,★★,★★★

例：★★レベル
------------------------------------------------
STAR == ★★
------------------------------------------------

例：★レベル以上
------------------------------------------------
STAR >= ★
------------------------------------------------

例：★レベルなし
------------------------------------------------
STAR < ＊
------------------------------------------------


・NOTE
譜面制作者に対して文字列比較します。

例：譜面制作者が mahou 
------------------------------------------------
NOTE == "mahou"
------------------------------------------------

・TOTALNOTE
総ノーツ数に対して数値比較します。(整数)

例：1000ノーツ以上
------------------------------------------------
TOTALNOTE >= 1000
------------------------------------------------

・CLEARRATE
クリア率に対して数値比較します。(少数点可)

例：クリア率97.0以上
------------------------------------------------
CLEARRATE >= 97.0
------------------------------------------------

以下のようにランク指定で書くこともできます。
------------------------------------------------
CLEARRATE >= AAA
------------------------------------------------

・CLEAR
クリア済みか真偽値評価します。
※真偽値評価の場合は比較演算は使用しません。

例：クリア済み
------------------------------------------------
CLEAR
------------------------------------------------

・AP / FC
APまたはFC済みか真偽値評価します。

例：FC済み (APも含む)
------------------------------------------------
FC
------------------------------------------------

例：FCで未AP
------------------------------------------------
FC && !AP
------------------------------------------------

・FAVORITE
お気に入りか真偽値評価します。

例：お気に入り済み
------------------------------------------------
FAVORITE
------------------------------------------------

■演算子一覧

・基本的な比較演算

==,!=,>,>=,<,<=
(等号, 不等号, 大小)

・in
文字列比較の場合のみ使用可能です。

右辺の文字が含まれているかをチェックします

■論理演算子一覧

・論理積 &&

例：BPM 200以上 "かつ" レベル10
------------------------------------------------
BPM >= 200 && LEVEL == 10
------------------------------------------------

・論理積 ||

例：BPM 200以上 "または" レベル10
------------------------------------------------
BPM >= 200 || LEVEL == 10
------------------------------------------------

・論理否定 !

例：「BPM 200以上 && レベル10」"ではない"
------------------------------------------------
!(BPM >= 200 && LEVEL == 10)
------------------------------------------------

■その他

・括弧 ()
括弧でくくった式は優先的に評価されます

・コメント %
%から始めた行はコメントになります